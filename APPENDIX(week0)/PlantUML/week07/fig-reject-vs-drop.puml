@startuml fig-reject-vs-drop
skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam shadowing false
title REJECT vs DROP Behaviour

participant "Client" as C
participant "Firewall" as FW
participant "Server\n(blocked)" as S

== REJECT (fail fast) ==

C -> FW : TCP SYN to port 9090
FW -[#E53935]-> C : ICMP Port Unreachable\nor TCP RST
note right of C #C8E6C9
Client gets immediate
error response
"Connection refused"
endnote

== DROP (fail slow) ==

C -> FW : TCP SYN to port 9090
FW -[#E53935]x S : silently dropped
C -> FW : SYN retry (timeout)
C -> FW : SYN retry (timeout)
note right of C #FFCDD2
Client hangs until
timeout expires
"Connection timed out"
endnote

legend right
REJECT: explicit denial
- Client knows immediately
- Easier to debug
- Use while developing

DROP: silent discard
- Client must timeout
- Harder for attacker
- Use in production
endlegend
@enduml
