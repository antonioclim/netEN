@startuml fig-udp-multicast
skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam shadowing false
title UDP Multicast with IGMP

node "Multicast Router" as router #90CAF9
rectangle "Sender\n192.168.1.10" as sender #FFE0B2
rectangle "Receiver 1\njoined 239.0.0.1" as r1 #C8E6C9
rectangle "Receiver 2\njoined 239.0.0.1" as r2 #C8E6C9
rectangle "Host 3\nNOT joined" as r3 #ECEFF1

sender -- router
r1 -- router
r2 -- router
r3 -- router

sender .[#43A047].> r1 : forwarded
sender .[#43A047].> r2 : forwarded

legend bottom
Sender: IP_MULTICAST_TTL, sendto(239.0.0.1)
Receiver: IP_ADD_MEMBERSHIP to join group
IGMP Query (0x11), Report (0x16), Leave (0x17)
Multicast range: 224.0.0.0 - 239.255.255.255
endlegend
@enduml
