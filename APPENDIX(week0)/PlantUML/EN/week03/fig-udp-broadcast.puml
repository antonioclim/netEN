@startuml fig-udp-broadcast
skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam shadowing false
title UDP Broadcast - One to All

node "Switch" as sw #90CAF9
rectangle "Sender\n192.168.1.10" as sender #FFE0B2
rectangle "Receiver 1\n192.168.1.20" as r1 #C8E6C9
rectangle "Receiver 2\n192.168.1.30" as r2 #C8E6C9
rectangle "Receiver 3\n192.168.1.40" as r3 #C8E6C9
node "Router (boundary)" as router #FFCDD2

sender -- sw
r1 -- sw
r2 -- sw
r3 -- sw
sw -- router

sender .[#FF9800].> r1 : broadcast
sender .[#FF9800].> r2 : broadcast
sender .[#FF9800].> r3 : broadcast

legend bottom
Sender: setsockopt(SO_BROADCAST, 1)
        sendto('255.255.255.255', 9999)
Receiver: bind('', 9999) then recvfrom()
Broadcast does NOT cross routers
endlegend
@enduml
