@startuml fig-icmp-messages
'A4 Landscape
skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 10
skinparam shadowing false

title ICMP Message Types\nInternet Control Message Protocol

rectangle "Error Messages" as errors #FFCDD2 {
    rectangle "Type 3\nDestination Unreachable\n(Network, Host, Port)" as t3 #FFEBEE
    rectangle "Type 11\nTime Exceeded\n(TTL expired)" as t11 #FFEBEE
    rectangle "Type 5\nRedirect\n(Better route exists)" as t5 #FFEBEE
    rectangle "Type 4\nSource Quench\n(Deprecated)" as t4 #FFEBEE
}

rectangle "Informational Messages" as info #C8E6C9 {
    rectangle "Type 8\nEcho Request\n(ping)" as t8 #E8F5E9
    rectangle "Type 0\nEcho Reply\n(pong)" as t0 #E8F5E9
    rectangle "Type 13/14\nTimestamp\nRequest/Reply" as t13 #E8F5E9
}

note bottom of errors
    Error messages include
    original packet header
    for identification
end note

note bottom of info
    Used for diagnostics:
    ping (Echo)
    traceroute (TTL exceeded)
end note

note as N1
    Common Destination Unreachable Codes:
    Code 0: Network unreachable
    Code 1: Host unreachable
    Code 3: Port unreachable
    Code 4: Fragmentation needed
    
    tcpdump -i eth0 icmp
end note

