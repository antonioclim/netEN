@startuml fig-load-balancing-algorithms
'A4 Landscape
skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 10
skinparam shadowing false

title Load Balancing Algorithms

rectangle "Round Robin" as rr #E3F2FD {
    note as rr_n
        Request 1 -> Server A
        Request 2 -> Server B
        Request 3 -> Server C
        Request 4 -> Server A
        ...
        
        Simple, equal distribution
        No server state awareness
    end note
}

rectangle "Weighted Round Robin" as wrr #E3F2FD {
    note as wrr_n
        Server A (weight 3): 3 requests
        Server B (weight 2): 2 requests
        Server C (weight 1): 1 request
        
        For heterogeneous servers
    end note
}

rectangle "Least Connections" as lc #C8E6C9 {
    note as lc_n
        Send to server with
        fewest active connections
        
        Better for long requests
        Adapts to server load
    end note
}

rectangle "IP Hash" as iph #FFE0B2 {
    note as iph_n
        hash(client_ip) % servers
        
        Same client -> same server
        Simple session persistence
    end note
}

note as N1
    Nginx configuration:
    
    upstream backend {
        # Round Robin (default)
        server 10.0.0.1;
        server 10.0.0.2;
        
        # Weighted
        server 10.0.0.1 weight=3;
        
        # Least connections
        least_conn;
        
        # IP Hash
        ip_hash;
    }
end note

