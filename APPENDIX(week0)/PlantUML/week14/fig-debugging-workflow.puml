@startuml fig-debugging-workflow
skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam shadowing false

title Network Debugging Workflow

start

:Identify symptom;

:Check server running
docker-compose ps
ss -tlnp;

if (Running?) then (yes)
else (no)
    :Start server, check logs;
    stop
endif

:Test connectivity
nc -zv SERVER PORT;

if (Reachable?) then (yes)
else (no)
    :Check firewall/network;
    stop
endif

:Capture traffic
tcpdump -w debug.pcap;

:Analyse packets
tshark -r debug.pcap;

if (Protocol OK?) then (yes)
else (no)
    :Fix serialization;
    stop
endif

:Review application logs;

:Apply fix and test;

stop

@enduml
