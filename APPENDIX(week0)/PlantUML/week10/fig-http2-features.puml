@startuml fig-http2-features
'A4 Landscape
skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 10
skinparam shadowing false

title HTTP/2 vs HTTP/1.1

rectangle "HTTP/1.1" as h1 #FFCDD2 {
    rectangle "Text-based protocol" as h1t
    rectangle "One request per connection\nor connection reuse" as h1r
    rectangle "Head-of-line blocking" as h1hol
    rectangle "Header sent every request" as h1h
}

rectangle "HTTP/2" as h2 #C8E6C9 {
    rectangle "Binary framing" as h2t
    rectangle "Multiplexed streams\n(parallel requests)" as h2r
    rectangle "No HOL blocking\n(at HTTP level)" as h2hol
    rectangle "Header compression\n(HPACK)" as h2h
    rectangle "Server push" as h2p
}

note bottom of h1
    Limitations:
    * Multiple connections needed
    * Redundant headers
    * No prioritization
end note

note bottom of h2
    Benefits:
    * Single connection
    * Reduced latency
    * Less bandwidth
    * Stream priorities
    
    curl --http2 https://example.com
end note

note as N1
    HTTP/2 Frame Types:
    DATA - request/response body
    HEADERS - HTTP headers
    PRIORITY - stream priority
    SETTINGS - connection config
    PUSH_PROMISE - server push
    GOAWAY - connection close
end note

