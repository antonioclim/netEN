@startuml fig-tcp-handshake
skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam shadowing false
skinparam sequenceMessageAlign center

title TCP Three-Way Handshake

participant "Client\nnc localhost 9999" as C
participant "Server\nnc -l -p 9999" as S

C -> S : SYN (Seq=1000)
S --> C : SYN-ACK (Seq=5000, Ack=1001)
C -> S : ACK (Seq=1001, Ack=5001)

== ESTABLISHED ==

C <-> S : Data transfer

C -> S : PSH-ACK "Hello"
S --> C : ACK

legend right
Step 1: Client sends SYN
Step 2: Server sends SYN-ACK
Step 3: Client sends ACK
Connection established
endlegend
@enduml
