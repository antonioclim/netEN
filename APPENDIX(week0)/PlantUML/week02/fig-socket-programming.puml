@startuml fig-socket-programming
'A4 Portrait - Swimlane activity diagram
skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam shadowing false
skinparam roundCorner 5

title Python TCP Socket Programming Model

|Server|
start
:import socket;

:Create socket
sock = socket.socket(
    AF_INET, SOCK_STREAM);

:Bind to address
sock.bind(('0.0.0.0', 9090));

:Enable listening
sock.listen(5);

repeat
    :Accept connection (blocking)
    conn, addr = sock.accept();
    
    :Receive data
    data = conn.recv(1024);
    
    :Send response
    conn.send(response);
    
    :Close client connection
    conn.close();
    
repeat while (Keep running?)

:Close server socket
sock.close();
stop

|Client|
start
:import socket;

:Create socket
sock = socket.socket(
    AF_INET, SOCK_STREAM);

:Connect to server
sock.connect(('server', 9090));
note right: Triggers 3-way handshake

:Send data
sock.send(b'Hello');

:Receive response
response = sock.recv(1024);

:Close connection
sock.close();
stop

@enduml
