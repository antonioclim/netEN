@startuml fig-diagnostic-workflow
skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam shadowing false
title Network Diagnostic Workflow

start
:Check interface\nip addr show;
if (Interface UP?) then (yes)
else (no)
    #FFCDD2:ip link set eth0 up;
    stop
endif

:Test loopback\nping 127.0.0.1;
if (OK?) then (yes)
else (no)
    #FFCDD2:TCP/IP stack error;
    stop
endif

:Test gateway\nping GATEWAY;
if (OK?) then (yes)
else (no)
    #FFCDD2:Check cable/DHCP;
    stop
endif

:Test Internet\nping 8.8.8.8;
if (OK?) then (yes)
else (no)
    #FFCDD2:Check firewall;
    stop
endif

:Test DNS\nping google.com;
if (OK?) then (yes)
    #C8E6C9:FULL CONNECTIVITY OK;
else (no)
    #FFCDD2:Fix resolv.conf;
    stop
endif
stop
@enduml
