@startuml fig-http-flow
!theme plain
skinparam backgroundColor #0a0a0f
skinparam defaultFontColor #e0e0e0
skinparam arrowColor #4fc3f7
skinparam sequenceArrowThickness 2
skinparam sequenceLifeLineBorderColor #4fc3f7
skinparam participantBorderColor #4fc3f7
skinparam participantBackgroundColor #1a1a2e

title HTTP/1.1 Request-Response Flow

actor Client as C #4fc3f7
participant "DNS\nServer" as DNS #2196f3
participant "Web\nServer" as S #4caf50

== DNS Resolution ==
C -> DNS: DNS Query: example.com
DNS --> C: DNS Response: 93.184.216.34

== TCP Handshake ==
C -> S: TCP SYN
S --> C: TCP SYN-ACK
C -> S: TCP ACK

== HTTP Request ==
C -> S: GET /api/users HTTP/1.1\nHost: example.com\nAccept: application/json

== HTTP Response ==
S --> C: HTTP/1.1 200 OK\nContent-Type: application/json\n\n{"users": [...]}

== Connection Close ==
C -> S: TCP FIN
S --> C: TCP FIN-ACK
C -> S: TCP ACK

note right of S
  Total latency:
  • DNS: 1 RTT
  • TCP: 1 RTT
  • HTTP: 1 RTT
  • Close: 1 RTT
  = 4 RTT minimum
end note

@enduml
